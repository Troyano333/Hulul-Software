<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación de Pago</title>
    <link rel="stylesheet" href="./css/confirmacion_pago.css">  
</head>
<body>
    <div class="confirmacion-container">
        <h1>¡Pago Exitoso!</h1>

        <div class="info-reserva">
            <h2>Detalles de tu Reserva</h2>
            <p><strong>Nombre:</strong> <span id="nombre_reserva"></span> <span id="apellido_reserva"></span></p>
            <p><strong>Fecha:</strong> <span id="fecha_reserva"></span></p>
            <p><strong>Hora:</strong> <span id="hora_reserva"></span></p>
            <p><strong>Lugar:</strong> <span id="lugar_reserva"></span></p>
            <p><strong>Tipo de Palco:</strong> <span id="palco_reserva"></span></p>
        </div>

        <div class="qr-code">
            <h2>Código QR</h2>
            <img src="./img/qr.png" alt="Código QR de la reserva" id="qr_imagen">
        </div>

        <div class="info-discoteca">
            <h2>Información de la Discoteca</h2>
            <p><strong>Nombre:</strong> Hulul Discoteck</p>
            <p><strong>Dirección:</strong> Calle Falsa 123, Cartagena</p>
            <p><strong>Teléfono:</strong> (123) 456-7890</p>
            <p><strong>¡Disfruta de tu evento!</strong></p>
        </div>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
<<<<<<< HEAD
        const datos = JSON.parse(sessionStorage.getItem("reserva"));
        if (!datos) return;

=======
        // Verificar si se están pasando datos a través de sessionStorage o URL
        let datos;

        // Intentar obtener los datos desde sessionStorage
        datos = JSON.parse(sessionStorage.getItem("reserva"));

        // Si no hay datos en sessionStorage, obtenerlos desde la URL
        if (!datos) {
            const urlParams = new URLSearchParams(window.location.search);
            datos = {
                nombre: urlParams.get('nombre'),
                apellido: urlParams.get('apellido'),
                fecha: urlParams.get('fecha'),
                hora: urlParams.get('hora'),
                discoteca: urlParams.get('lugar'),
                tipo_palco: urlParams.get('palco')
            };
        }

        // Verificar si los datos existen
        if (!datos) {
            alert("No se han encontrado datos de reserva.");
            return;
        }

        // Asignar los datos a los elementos del HTML
>>>>>>> d73901e1e9b47c6105ca7ce100b704174521a6be
        document.getElementById("nombre_reserva").textContent = datos.nombre;
        document.getElementById("apellido_reserva").textContent = datos.apellido;
        document.getElementById("fecha_reserva").textContent = datos.fecha;
        document.getElementById("hora_reserva").textContent = datos.hora;
        document.getElementById("lugar_reserva").textContent = datos.discoteca;
        document.getElementById("palco_reserva").textContent = datos.tipo_palco;

        // Crear el texto que se mostrará en el código QR
        const textoQR = `Reserva para: ${datos.nombre} ${datos.apellido}
Fecha: ${datos.fecha}
Hora: ${datos.hora}
Lugar: ${datos.discoteca}
Palco: ${datos.tipo_palco}`;

        // Crear la URL del QR
        const qrURL = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(textoQR)}`;
        
        // Asignar la URL del QR a la imagen
<<<<<<< HEAD
        document.getElementById("./img/qr.png").src = qrURL;
=======
        document.getElementById("qr_png").src = qrURL;
>>>>>>> d73901e1e9b47c6105ca7ce100b704174521a6be
    });
    </script>
</body>
</html>
